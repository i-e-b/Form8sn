@model TemplateEditViewModel

@{
    ViewBag!.Title = "Document editor";
    Layout = "_Layout";
    var pdfWorkerSource = Url!.Content("~/js/pdf.worker.js")!; // Snapshot from https://mozilla.github.io/pdf.js/build/pdf.worker.js
}

@* PAGE CONTROLS *@
<div>
    <button id="prev">Previous</button>
    <button id="next">Next</button>
	
    <span>Page: <span id="page_num"></span> / <span id="page_count"></span></span>
    
    <button id="zoom-plus">Zoom in</button>
    <button id="zoom-minus">Zoom out</button>
</div>

@* PAGE RENDERING *@
<div id="container">
    <canvas id="pdf-render" class="subCanvas"></canvas>
    <canvas id="box-render" class="subCanvas"></canvas>
</div>


@* Mozilla PDF rendering library. Snapshot from https://mozilla.github.io/pdf.js/build/pdf.js *@
<script src="~/js/pdf.js" asp-append-version="true"></script>

@* Expose C# model data to Javascript*@
<script>
const basePdfSourceUrl = "@Model!.PdfUrl"; // PDF file from project
const projectJsonLoadUrl = "@(Model.ProjectLoadUrl)?docId=@(Model.DocumentId)"; // AJAX call-back to read template project file

pdfJsLib.GlobalWorkerOptions.workerSrc = "@pdfWorkerSource"; // Setup the workerSrc property, as required by the library.
</script>

@* Scripts to render PDF with template box overlay, and enable editing of the template *@
<script src="~/js/boxEditor.js" asp-append-version="true"></script>